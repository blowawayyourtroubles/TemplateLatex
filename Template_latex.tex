\documentclass[12pt,a4paper]{article}

% ========================================
% PARTE I: CONFIGURACIÓN DEL DOCUMENTO
% ========================================

% ========================================
% PAQUETES ESENCIALES (BASE)
% ========================================
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{mathtools}
\usepackage{xcolor}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{array}
\usepackage{tabularx}
\usepackage{multicol}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage[most]{tcolorbox}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{lmodern}
\usepackage{hyperref}

% ========================================
% PAQUETES ADICIONALES (EXTENDIDOS)
% ========================================
\usepackage{listings}
\usepackage{wrapfig}
\usepackage{lipsum}
\usepackage[acronym]{glossaries}

% ========================================
% CONFIGURACIÓN DE PAQUETES
% ========================================
\pgfplotsset{compat=1.18}
\geometry{margin=1in, top=1.2in, bottom=1in, headheight=26.1013pt}
\makeglossaries

% ========================================
% CONFIGURACIÓN DE HYPERREF
% ========================================
\hypersetup{
    colorlinks=true,
    linkcolor=accent,
    filecolor=primary,
    urlcolor=primary,
    citecolor=secondary,
    pdftitle={Plantilla Académica Profesional},
    pdfauthor={Nombre del Autor},
    pdfsubject={Template Académico Avanzado},
    pdfkeywords={LaTeX, Template, Académico, Profesional},
    bookmarksnumbered=true,
    bookmarksopen=true
}

% ========================================
% PALETA DE COLORES INSTITUCIONAL
% ========================================
\definecolor{primary}{HTML}{00AF54}
\definecolor{secondary}{HTML}{00AF54}
\definecolor{accent}{HTML}{DEE0D8}
\definecolor{highlight}{HTML}{EEF4D4}
\definecolor{success}{HTML}{06a77d}
\definecolor{warning}{HTML}{f77f00}
\definecolor{danger}{HTML}{d62828}
\definecolor{dark}{HTML}{293133}
\definecolor{light}{HTML}{f8f9fa}
\definecolor{background}{HTML}{293133}
\definecolor{info}{HTML}{48cae4}

% ========================================
% CONFIGURACIÓN DE PÁGINA
% ========================================
\pagecolor{dark}
\color{white}

% ========================================
% ENCABEZADO Y PIE DE PÁGINA
% ========================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textcolor{accent}{\textbf{Institución~/~Departamento}}}
\fancyhead[R]{\textcolor{highlight}{\nouppercase{\leftmark}}}
\fancyfoot[C]{\textcolor{accent}{\thepage}}
\renewcommand{\headrulewidth}{1.5pt}
\renewcommand{\footrulewidth}{1pt}
\renewcommand{\headrule}{\hbox to\headwidth{\color{primary}\leaders\hrule height \headrulewidth\hfill}}
\renewcommand{\footrule}{\hbox to\headwidth{\color{primary}\leaders\hrule height \footrulewidth\hfill}}

% ========================================
% FORMATO DE TÍTULOS Y SECCIONES
% ========================================
\titleformat{\section}{\color{accent}\Large\bfseries}{\textcolor{primary}{\thesection.}}{0.5em}{}[\textcolor{primary}{\titlerule[1.5pt]}]
\titleformat{\subsection}{\color{highlight}\large\bfseries}{\textcolor{accent}{\thesubsection}}{0.5em}{}[\textcolor{accent}{\titlerule[0.8pt]}]
\titleformat{\subsubsection}{\color{white}\normalsize\bfseries}{\textcolor{highlight}{\thesubsubsection}}{0.5em}{}

% ========================================
% CAJAS PERSONALIZADAS (COMPLETAS)
% ========================================

% Definición
\newtcolorbox{definicion}[2][]{
    colback=dark,
    colframe=primary,
    coltext=white,
    boxrule=2pt,
    arc=4mm,
    leftrule=8mm,
    title={\textcolor{white}{DEFINICIÓN:~#2}},
    fonttitle=\bfseries\large,
    coltitle=white,
    attach boxed title to top left={yshift=-3mm, xshift=5mm},
    boxed title style={colback=primary, arc=3mm},
    #1
}

% Teorema
\newtcolorbox{teorema}[2][]{
    colback=dark,
    colframe=secondary,
    coltext=white,
    boxrule=2pt,
    arc=4mm,
    leftrule=8mm,
    title={\textcolor{white}{TEOREMA:~#2}},
    fonttitle=\bfseries\large,
    coltitle=white,
    attach boxed title to top left={yshift=-3mm, xshift=5mm},
    boxed title style={colback=secondary, arc=3mm},
    #1
}

% Ejemplo
\newtcolorbox{ejemplo}[2][]{
    colback=dark,
    colframe=success,
    coltext=white,
    boxrule=1.5pt,
    arc=3mm,
    title={\textcolor{white}{EJEMPLO:~#2}},
    fonttitle=\bfseries,
    coltitle=white,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=success, arc=2mm},
    #1
}

% Nota
\newtcolorbox{nota}[2][]{
    colback=dark,
    colframe=warning,
    coltext=white,
    boxrule=1.5pt,
    arc=3mm,
    title={\textcolor{white}{NOTA:~#2}},
    fonttitle=\bfseries,
    coltitle=white,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=warning, arc=2mm},
    #1
}

% Advertencia
\newtcolorbox{advertencia}[2][]{
    colback=dark,
    colframe=danger,
    coltext=white,
    boxrule=2pt,
    arc=3mm,
    title={\textcolor{white}{ADVERTENCIA:~#2}},
    fonttitle=\bfseries,
    coltitle=white,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=danger, arc=2mm},
    #1
}

% Ejercicio
\newtcolorbox{ejercicio}[2][]{
    colback=dark,
    colframe=highlight,
    coltext=white,
    boxrule=1.5pt,
    arc=3mm,
    title={\textcolor{dark}{EJERCICIO:~#2}},
    fonttitle=\bfseries,
    coltitle=dark,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=highlight, arc=2mm},
    #1
}

% Objetivo
\newtcolorbox{objetivo}[2][]{
    colback=dark,
    colframe=success!70!white,
    coltext=white,
    boxrule=2pt,
    arc=4mm,
    title={\textcolor{white}{OBJETIVOS DE APRENDIZAJE:~#2}},
    fonttitle=\bfseries\large,
    coltitle=white,
    attach boxed title to top left={yshift=-3mm, xshift=5mm},
    boxed title style={colback=success!70!white, arc=3mm},
    #1
}

% Concepto clave
\newtcolorbox{concepto}[2][]{
    colback=background,
    colframe=secondary,
    coltext=white,
    boxrule=1.5pt,
    arc=3mm,
    title={\textcolor{white}{CONCEPTO CLAVE:~#2}},
    fonttitle=\bfseries,
    coltitle=white,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=secondary, arc=2mm},
    #1
}

% Biografía
\newtcolorbox{biografia}[2][]{
    colback=dark,
    colframe=info,
    coltext=white,
    boxrule=1.5pt,
    arc=3mm,
    title={\textcolor{white}{PERFIL BIOGRÁFICO:~#2}},
    fonttitle=\bfseries,
    coltitle=white,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=info, arc=2mm},
    #1
}

% Código
\newtcolorbox{codigo}[2][]{
    colback=dark!95!black,
    colframe=accent,
    coltext=white,
    boxrule=1pt,
    arc=3mm,
    title={\textcolor{white}{CÓDIGO:~#2}},
    fonttitle=\bfseries\ttfamily,
    coltitle=white,
    attach boxed title to top left={yshift=-2mm, xshift=5mm},
    boxed title style={colback=accent, arc=2mm},
    #1
}

% Caja de fórmulas
\newtcolorbox{formulabox}[1][]{
    colback=background,
    colframe=accent,
    coltext=white,
    boxrule=1pt,
    arc=2mm,
    left=5pt,
    right=5pt,
    top=5pt,
    bottom=5pt,
    #1
}

% ========================================
% ENTORNOS MATEMÁTICOS PERSONALIZADOS
% ========================================
\newtheoremstyle{customtheorem}
{10pt}{10pt}{\color{white}}{}{\color{accent}\bfseries}{:}{.5em}{}

\theoremstyle{customtheorem}
\newtheorem{thm}{Teorema}[section]
\newtheorem{lem}[thm]{Lema}
\newtheorem{prop}[thm]{Proposición}
\newtheorem{cor}[thm]{Corolario}
\newtheorem{defn}[thm]{Definición}

% ========================================
% CONFIGURACIÓN DE `listings` PARA CÓDIGO
% ========================================
\lstdefinestyle{custompython}{
    language=Python,
    backgroundcolor=\color{dark},
    commentstyle=\color{success}\itshape,
    keywordstyle=\color{primary}\bfseries,
    numberstyle=\tiny\color{light},
    stringstyle=\color{warning},
    basicstyle=\footnotesize\ttfamily,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
}
\lstset{style=custompython}

% ========================================
% COMANDOS PERSONALIZADOS
% ========================================

% Separadores visuales
\newcommand{\separator}{\vspace{10pt}\noindent\textcolor{primary}{\rule{\textwidth}{1.5pt}}\vspace{10pt}}
\newcommand{\thinline}{\vspace{5pt}\noindent\textcolor{accent}{\rule{\textwidth}{0.5pt}}\vspace{5pt}}

% Destacar texto
\newcommand{\highlight}[1]{\textcolor{accent}{\textbf{#1}}}
\newcommand{\important}[1]{\textcolor{warning}{\textbf{#1}}}
\newcommand{\critical}[1]{\textcolor{danger}{\textbf{#1}}}

% Fórmula destacada
\newcommand{\mainformula}[1]{\begin{center}\colorbox{secondary}{\textcolor{white}{$\displaystyle #1$}}\end{center}}

% Conjuntos numéricos
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}

% Vectores y matrices
\newcommand{\vect}[1]{\mathbf{#1}}
\newcommand{\abs}[1]{\left| #1 \right|}
\newcommand{\norm}[1]{\left\| #1 \right\|}

% Derivadas
\newcommand{\dv}[2]{\frac{d#1}{d#2}}
\newcommand{\dvn}[3]{\frac{d^{#3}#1}{d#2^{#3}}}
\newcommand{\pdv}[2]{\frac{\partial #1}{\partial #2}}

% Integrales
\newcommand{\inte}[2]{\int_{#1}^{#2}}
\newcommand{\intinf}{\int_{-\infty}^{\infty}}

% ========================================
% DEFINICIÓN DE TÉRMINOS PARA EL GLOSARIO
% ========================================
\newglossaryentry{limite}{
    name={límite},
    description={Valor al que se aproxima una función $f(x)$ a medida que la variable de entrada $x$ se acerca a un valor específico $a$\@. Se denota como $\lim_{x \to a} f(x) = L$\@.}
}
\newglossaryentry{derivada}{
    name={derivada},
    description={La tasa de cambio instantánea de una función con respecto a una de sus variables\@. Geométricamente, representa la pendiente de la recta tangente a la gráfica de la función en un punto dado\@.}
}
\newglossaryentry{integral}{
    name={integral},
    description={Operación fundamental del cálculo que generaliza la suma de infinitos sumandos infinitesimalmente pequeños\@. Puede representar el área bajo una curva, entre otras aplicaciones\@.}
}

% ========================================
% INFORMACIÓN DEL DOCUMENTO
% ========================================
\title{
    \textcolor{accent}{\Huge\textbf{Plantilla Académica Profesional}}\\
    \vspace{5pt}
    \textcolor{highlight}{\Large Guía de Estudio y Documentación Completa}
}
\author{
    \textcolor{white}{\Large Nombre del Autor}\\
    \textcolor{accent}{Institución~/~Departamento}\\
}
\date{\textcolor{accent}{\today}}

% ========================================
% INICIO DEL DOCUMENTO
% ========================================
\begin{document}

\maketitle
\thispagestyle{empty}
\vspace{20pt}
\begin{center}
\colorbox{primary}{\parbox{0.85\textwidth}{\color{white}\centering\large
Plantilla académica profesional que combina todas las características para crear documentos matemáticos de alta calidad\@. Incluye cajas personalizadas, entornos especiales, comandos matemáticos, glosario automatizado, soporte para código fuente y visualizaciones con TikZ/PGFplots\@.
}}
\end{center}
\newpage

\tableofcontents
\newpage

% ========================================
% PARTE I: ENTORNOS Y CAJAS
% ========================================
\part{Entornos y Cajas Especializadas}

\section{Entornos Básicos}

\subsection{Definiciones y Teoremas}

\begin{definicion}{Límite de una función}
Sea $f\colon \R \to \R$ una función y $a \in \R$\@. El \gls{limite} de~$f$ cuando~$x$ tiende a~$a$ es~$L$ si:
\[
\forall \varepsilon > 0,\, \exists \delta > 0 \colon 0 < \abs{x - a} < \delta \implies \abs{f(x) - L} < \varepsilon
\]
Notación: $\displaystyle\lim_{x \to a} f(x) = L$
\end{definicion}

\begin{teorema}{Teorema Fundamental del Cálculo}
Si~$f$ es una función continua en~$[a,b]$, entonces la función~$F$ definida por $F(x) = \int_a^x f(t)\, dt$ es continua en~$[a,b]$, derivable en~$(a,b)$ y $F'(x) = f(x)$\@. Este teorema conecta la \gls{derivada} y la \gls{integral}\@.
\end{teorema}

\begin{ejemplo}{Cálculo de una Derivada}
Calcular la derivada de $f(x) = x^3 - 2x + 5$\@.

Aplicando la regla de la potencia:
\[ f'(x) = \dv{}{x}(x^3 - 2x + 5) = 3x^2 - 2 \]
\end{ejemplo}

\begin{nota}{Continuidad y derivabilidad}
Si una función es derivable en un punto, entonces es continua en ese punto\@. Sin embargo, \important{el recíproco no es cierto}\@. Ejemplo: $f(x) = \abs{x}$ es continua en~$x=0$ pero no derivable\@.
\end{nota}

\begin{advertencia}{Error común}
\critical{NO} confundir la derivada de un producto con el producto de derivadas:
\[
(f \cdot g)' \neq f' \cdot g'
\]
La regla correcta es: $(f \cdot g)' = f' \cdot g + f \cdot g'$ (Regla del producto)
\end{advertencia}

\begin{ejercicio}{Práctica de Derivadas}
Calcular las siguientes derivadas:
\begin{enumerate}
    \item $\dv{}{x}\left(e^{x^2}\right)$
    \item $\dv{}{x}\left(\ln(\cos x)\right)$
    \item $\dv{}{x}\left(x^x\right)$ \textit{(Sugerencia: usar logaritmos)}
\end{enumerate}
\end{ejercicio}

\separator

\section{Entornos Avanzados}

\begin{objetivo}{Cálculo Diferencial}
Al finalizar esta sección, el estudiante será capaz de:
\begin{itemize}[label=\textcolor{success}{$\checkmark$}, leftmargin=*]
    \item Comprender y aplicar la definición de derivada\@.
    \item Calcular derivadas de funciones polinómicas, trigonométricas y exponenciales\@.
    \item Utilizar las reglas del producto, cociente y de la cadena\@.
    \item Interpretar la derivada como una tasa de cambio\@.
\end{itemize}
\end{objetivo}

\begin{concepto}{La Derivada como Tasa de Cambio}
La \gls{derivada} de una función en un punto representa la \important{tasa de cambio instantánea} de la función en ese punto\@. Si $y=f(t)$, donde~$t$ es el tiempo, entonces $f'(t)$ es la velocidad instantánea\@. Este concepto es aplicable en economía (costo marginal), física (velocidad, aceleración) y biología (tasa de crecimiento)\@.
\end{concepto}

\begin{biografia}{Isaac Newton (1643--1727)}
Físico, matemático y astrónomo inglés, considerado una de las figuras más influyentes en la historia de la ciencia\@. En su obra \textit{Philosophiæ Naturalis Principia Mathematica}, formuló las leyes del movimiento y la ley de la gravitación universal\@. Desarrolló el cálculo infinitesimal de forma independiente a~Leibniz\@.
\end{biografia}

\separator

% ========================================
% PARTE II: CONTENIDO MATEMÁTICO
% ========================================
\part{Contenido Matemático Avanzado}

\section{Tablas de Fórmulas}

\subsection{Derivadas de Funciones Básicas}

\begin{center}
\begin{tabular}{>{\color{accent}\bfseries}l >{\color{white}}c >{\color{highlight}}c}
\toprule
\textcolor{primary}{\textbf{Tipo}} & \textcolor{primary}{\textbf{$f(x)$}} & \textcolor{primary}{\textbf{$f'(x)$}} \\
\midrule
Constante & $c$ & $0$ \\
Identidad & $x$ & $1$ \\
Potencia & $x^n$ & $nx^{n-1}$ \\
Exponencial natural & $e^x$ & $e^x$ \\
Exponencial general & $a^x$ & $a^x \ln a$ \\
Logaritmo natural & $\ln x$ & $\dfrac{1}{x}$ \\
Logaritmo general & $\log_a x$ & $\dfrac{1}{x \ln a}$ \\
\bottomrule
\end{tabular}
\end{center}

\subsection{Derivadas Trigonométricas}

\begin{formulabox}
\begin{multicols}{2}
\begin{itemize}[leftmargin=*, label=\textcolor{primary}{$\bullet$}]
\item $\dv{}{x}[\sin x] = \cos x$
\item $\dv{}{x}[\cos x] = -\sin x$
\item $\dv{}{x}[\tan x] = \sec^2 x$
\item $\dv{}{x}[\cot x] = -\csc^2 x$
\item $\dv{}{x}[\sec x] = \sec x \tan x$
\item $\dv{}{x}[\csc x] = -\csc x \cot x$
\end{itemize}
\end{multicols}
\end{formulabox}

\subsection{Reglas de Derivación}

\begin{formulabox}
\textcolor{accent}{\textbf{Reglas básicas:}}
\begin{align*}
\textcolor{highlight}{\text{Suma:}} \quad & (f + g)' = f' + g' \\
\textcolor{highlight}{\text{Producto:}} \quad & (f \cdot g)' = f' \cdot g + f \cdot g' \\
\textcolor{highlight}{\text{Cociente:}} \quad & \left(\frac{f}{g}\right)' = \frac{f' \cdot g - f \cdot g'}{g^2} \\
\textcolor{highlight}{\text{Cadena:}} \quad & (f \circ g)'(x) = f'(g(x)) \cdot g'(x)
\end{align*}
\end{formulabox}

\separator

\section{Teoremas y Demostraciones}

\begin{thm}[Teorema del Valor Medio de Lagrange]
Sea $f\colon [a,b] \to \R$ una función continua en~$[a,b]$ y derivable en~$(a,b)$\@. Entonces existe al menos un punto $c \in (a,b)$ tal que:
\[
f'(c) = \frac{f(b)-f(a)}{b-a}
\]
\end{thm}

\begin{proof}
\textcolor{highlight}{\textbf{Demostración:}}

Definimos la función auxiliar:
\[
g(x) = f(x) - f(a) - \frac{f(b)-f(a)}{b-a}(x-a)
\]

Observamos que~$g$ representa la diferencia entre~$f$ y la recta secante que une $(a, f(a))$ con~$(b, f(b))$\@.

\textit{Propiedades de~$g$:}
\begin{itemize}
\item $g(a) = 0$
\item $g(b) = 0$
\item $g$ es continua en~$[a,b]$ y derivable en~$(a,b)$
\end{itemize}

Por el \textcolor{accent}{Teorema de Rolle}, existe $c \in (a,b)$ tal que $g'(c) = 0$\@.

Calculando $g'(c)$:
\[
g'(c) = f'(c) - \frac{f(b)-f(a)}{b-a} = 0
\]

Por lo tanto:
\[
f'(c) = \frac{f(b)-f(a)}{b-a} \qquad \qed
\]
\end{proof}

\separator

% ========================================
% PARTE III: CÓDIGO Y VISUALIZACIONES
% ========================================
\part{Código y Visualizaciones}

\section{Integración de Código Fuente}

\begin{codigo}{Método de Newton-Raphson en Python}
El siguiente algoritmo implementa el método de Newton-Raphson para encontrar raíces de funciones\@.
\begin{lstlisting}
def newton_raphson(f, df, x0, tol=1e-6, max_iter=100):
    """
    Encuentra la raiz de una funcion usando Newton-Raphson.
    :param f: La funcion.
    :param df: La derivada de la funcion.
    :param x0: Punto de inicio.
    :param tol: Tolerancia.
    :param max_iter: Maximo de iteraciones.
    :return: La raiz aproximada.
    """
    x = x0
    for i in range(max_iter):
        fx = f(x)
        dfx = df(x)
        if abs(dfx) < 1e-12:
            print("Derivada cero. No se puede continuar.")
            return None
        
        x_new = x - fx / dfx
        
        if abs(x_new - x) < tol:
            return x_new
        
        x = x_new
    
    print("El metodo no convergio.")
    return None

# Ejemplo: encontrar la raiz de f(x) = x^2 - 2
f = lambda x: x**2 - 2
df = lambda x: 2*x
raiz = newton_raphson(f, df, 1.0)
print(f"La raiz aproximada de 2 es: {raiz}")
\end{lstlisting}
\end{codigo}

\section{Gráficas con TikZ/PGFplots}

\subsection{Función y su Derivada}

\begin{center}
\begin{tikzpicture}
\begin{axis}[
    width=13cm,
    height=9cm,
    axis lines=middle,
    xlabel={$x$},
    ylabel={$y$},
    xlabel style={color=accent, font=\large},
    ylabel style={color=accent, font=\large},
    xmin=-3.5, xmax=3.5,
    ymin=-2, ymax=10,
    samples=150,
    grid=major,
    grid style={color=dark!50, dashed},
    tick style={color=accent},
    legend style={
        at={(0.02,0.98)},
        anchor=north west,
        fill=dark,
        draw=primary,
        text=white,
        font=\small
    },
    title={\textcolor{accent}{Función Cuadrática y su Derivada}},
    title style={font=\large\bfseries}
]

\addplot[primary, ultra thick, domain=-3:3, smooth] {x^2};
\addlegendentry{$f(x) = x^2$}

\addplot[accent, ultra thick, domain=-3:3, dashed, smooth] {2*x};
\addlegendentry{$f'(x) = 2x$}

\addplot[success, only marks, mark=*, mark size=3pt] coordinates {(0,0)};
\node[color=success, above right] at (axis cs:0,0) {$f'(0)=0$};

\end{axis}
\end{tikzpicture}
\end{center}

\separator

% ========================================
% PARTE IV: APÉNDICE
% ========================================
\part{Apéndice}

\appendix

\section{Glosario de Términos}

\begin{nota}{Compilación del Glosario}
Para que el glosario aparezca correctamente, compila tu documento usando la secuencia: \texttt{pdflatex}, \texttt{makeglossaries}, \texttt{pdflatex}\@. En Overleaf esto se maneja automáticamente\@.
\end{nota}

\printglossaries

\section{Resumen de Comandos Personalizados}

\subsection{Conjuntos numéricos}
Los conjuntos $\N$, $\Z$, $\Q$, $\R$ y~$\C$ se escriben con: \texttt{\textbackslash{}N}, \texttt{\textbackslash{}Z}, \texttt{\textbackslash{}Q}, \texttt{\textbackslash{}R}, \texttt{\textbackslash{}C}

\subsection{Derivadas e integrales}
\begin{itemize}
\item Derivada ordinaria: $\dv{y}{x}$ con \texttt{\textbackslash{}dv\{y\}\{x\}}
\item Derivada de orden~$n$: $\dvn{y}{x}{3}$ con \texttt{\textbackslash{}dvn\{y\}\{x\}\{3\}}
\item Derivada parcial: $\pdv{f}{x}$ con \texttt{\textbackslash{}pdv\{f\}\{x\}}
\item Integral definida: $\inte{0}{1} f(x)\,dx$ con \texttt{\textbackslash{}inte\{0\}\{1\}}
\end{itemize}

\subsection{Normas y valores absolutos}
\begin{itemize}
\item Valor absoluto: $\abs{x}$ con \texttt{\textbackslash{}abs\{x\}}
\item Norma: $\norm{\vect{v}}$ con \texttt{\textbackslash{}norm\{\textbackslash{}vect\{v\}\}}
\item Vector: $\vect{u}$ con \texttt{\textbackslash{}vect\{u\}}
\end{itemize}

\subsection{Destacar texto}
\begin{itemize}
\item \highlight{Texto destacado} con \texttt{\textbackslash{}highlight\{\ldots\}}
\item \important{Texto importante} con \texttt{\textbackslash{}important\{\ldots\}}
\item \critical{Texto crítico} con \texttt{\textbackslash{}critical\{\ldots\}}
\end{itemize}

\subsection{Separadores}
\begin{itemize}
\item Separador grueso: \texttt{\textbackslash{}separator}
\item Línea delgada: \texttt{\textbackslash{}thinline}
\end{itemize}

\subsection{Fórmula destacada}
Para resaltar una fórmula importante usa:
\texttt{\textbackslash{}mainformula\{formula\}}

Ejemplo:
\mainformula{\inte{a}{b} f(x)\,dx = F(b) - F(a)}

\separator

\section{Ejercicios de Consolidación}

\begin{ejercicio}{Práctica Integral}
\begin{enumerate}
    \item \textbf{Conceptual:} Explique con sus propias palabras la relación entre el Teorema Fundamental del Cálculo y los conceptos de \gls{derivada} e~\gls{integral}\@.
    \item \textbf{Cálculo:} Evalúe la integral definida $\inte{0}{\pi} \sin(x)\,dx$
    \item \textbf{Aplicación:} Encuentre el área bajo la curva $f(x) = x^2$ entre $x=0$ y~$x=2$
    \item \textbf{Código:} Modifique el algoritmo de Newton-Raphson para incluir un contador de iteraciones\@.
    \item \textbf{LaTeX:} Cree un nuevo entorno personalizado usando \texttt{tcolorbox} con sus propios colores\@.
\end{enumerate}
\end{ejercicio}

\separator

\section{Guía de Uso de la Plantilla}

\subsection{Estructura Recomendada}

Para usar efectivamente esta plantilla en tus documentos académicos, sigue esta estructura:

\begin{enumerate}[label=\textcolor{accent}{\textbf{\arabic*.}}, leftmargin=*]
\item \highlight{Portada:} Modifica el título, autor e institución en el preámbulo
\item \highlight{Objetivos:} Usa el entorno \texttt{objetivo} al inicio de cada capítulo
\item \highlight{Conceptos:} Introduce ideas clave con \texttt{concepto}
\item \highlight{Definiciones formales:} Usa \texttt{definicion} y \texttt{teorema}
\item \highlight{Ejemplos prácticos:} Ilustra con \texttt{ejemplo}
\item \highlight{Advertencias:} Resalta errores comunes con \texttt{advertencia}
\item \highlight{Ejercicios:} Cierra secciones con \texttt{ejercicio}
\end{enumerate}

\subsection{Personalización de Colores}

Para cambiar los colores de la plantilla, modifica las definiciones en el preámbulo:

\begin{codigo}{Personalización de Paleta}
\begin{verbatim}
\definecolor{primary}{HTML}{00AF54}    % Color principal
\definecolor{secondary}{HTML}{00AF54}  % Color secundario
\definecolor{accent}{HTML}{DEE0D8}     % Color de acento
\definecolor{highlight}{HTML}{EEF4D4}  % Color de resaltado
\end{verbatim}
\end{codigo}

\subsection{Consejos de Compilación}

\begin{nota}{Compilación Múltiple}
Algunos elementos (como el glosario y las referencias) requieren múltiples compilaciones:
\begin{enumerate}
    \item Primera compilación: \texttt{pdflatex documento.tex}
    \item Procesar glosario: \texttt{makeglossaries documento}
    \item Segunda compilación: \texttt{pdflatex documento.tex}
\end{enumerate}
En editores como Overleaf, esto se maneja automáticamente\@.
\end{nota}

\separator

\section{Ejemplos de Uso Avanzado}

\subsection{Combinación de Entornos}

Puedes anidar diferentes entornos para crear contenido más rico:

\begin{teorema}{Convergencia Uniforme}
Sea $\{f_n\}$ una sucesión de funciones continuas que converge uniformemente a~$f$ en~$[a,b]$\@. Entonces:

\begin{ejemplo}{Aplicación}
Considera la sucesión $f_n(x) = \frac{x}{n}$ en~$[0,1]$\@. Esta converge uniformemente a~$f(x) = 0$\@.
\end{ejemplo}

La función límite~$f$ es continua en~$[a,b]$ y
\[
\lim_{n \to \infty} \inte{a}{b} f_n(x)\,dx = \inte{a}{b} f(x)\,dx
\]
\end{teorema}

\subsection{Fórmulas con Numeración}

Puedes referenciar ecuaciones numeradas:

\begin{equation}
\label{eq:euler}
e^{i\pi} + 1 = 0
\end{equation}

La famosa identidad de Euler (ecuación~\ref{eq:euler}) relaciona cinco constantes fundamentales\@.

\subsection{Sistema de Ecuaciones}

Para sistemas de ecuaciones alineados:

\begin{align}
\dv{x}{t} &= -\omega y \label{eq:sys1}\\
\dv{y}{t} &= \omega x \label{eq:sys2}
\end{align}

Las ecuaciones~\ref{eq:sys1} y~\ref{eq:sys2} describen un movimiento circular\@.

\separator

\section{Recursos Adicionales}

\begin{concepto}{Documentación de Paquetes}
Esta plantilla utiliza múltiples paquetes de LaTeX\@. Para profundizar en sus capacidades:
\begin{itemize}[label=\textcolor{primary}{$\triangleright$}]
    \item \texttt{tcolorbox}: Documentación extensa para cajas personalizadas
    \item \texttt{tikz/pgfplots}: Gráficos y diagramas profesionales
    \item \texttt{listings}: Formateo de código fuente
    \item \texttt{glossaries}: Sistema de glosarios y acrónimos
    \item \texttt{hyperref}: Enlaces y marcadores en PDFs
\end{itemize}
\end{concepto}

\subsection{Extensiones Posibles}

Esta plantilla puede extenderse con:

\begin{itemize}[label=\textcolor{success}{$\checkmark$}, leftmargin=*]
    \item \textbf{Bibliografía:} Agrega \texttt{biblatex} para gestionar referencias
    \item \textbf{Índice alfabético:} Usa \texttt{makeidx} para índices detallados
    \item \textbf{Algoritmos:} Incluye \texttt{algorithm2e} para pseudocódigo
    \item \textbf{Diagramas químicos:} Agrega \texttt{chemfig} para estructuras moleculares
    \item \textbf{Partituras musicales:} Usa \texttt{musixtex} para notación musical
    \item \textbf{Diagramas de circuitos:} Incluye \texttt{circuitikz} para electrónica
\end{itemize}

\separator

\section{Plantillas de Secciones Comunes}

\subsection{Plantilla para Capítulo}

\begin{codigo}{Estructura de Capítulo}
\begin{verbatim}
\section{Nombre del Capítulo}

\begin{objetivo}{Tema del Capítulo}
Al finalizar esta sección, el estudiante:
\begin{itemize}
    \item Objetivo 1
    \item Objetivo 2
\end{itemize}
\end{objetivo}

\begin{concepto}{Concepto Principal}
Explicación del concepto clave...
\end{concepto}

\begin{definicion}{Término Importante}
Definición formal...
\end{definicion}

\begin{ejemplo}{Caso Práctico}
Desarrollo del ejemplo...
\end{ejemplo}

\begin{ejercicio}{Práctica}
Ejercicios propuestos...
\end{ejercicio}
\end{verbatim}
\end{codigo}

\subsection{Lista de Correcciones Implementadas}

Esta versión corregida implementa las siguientes mejoras para eliminar todos los warnings:

\begin{itemize}[label=\textcolor{success}{$\checkmark$}]
    \item \textbf{headheight ajustado:} Se agregó \texttt{headheight=26.1013pt} en geometry para eliminar el warning de fancyhdr\@.
    \item \textbf{Espaciado interoracional:} Se agregó \texttt{\textbackslash{}@} después de abreviaturas y puntos que no terminan oraciones para espaciado correcto\@.
    \item \textbf{Comandos terminados correctamente:} Se eliminaron espacios innecesarios después de comandos usando \texttt{\textasciitilde} (espacio no rompible)\@.
    \item \textbf{Guiones correctos:} Se usó \texttt{-{}-} (en dash) para rangos de años como 1643--1727\@.
    \item \textbf{Puntos suspensivos:} Se usó \texttt{\textbackslash{}ldots} en lugar de tres puntos seguidos\@.
    \item \textbf{Espacios no rompibles:} Se usó \texttt{\textasciitilde} antes de referencias, valores y en contextos donde no debe haber salto de línea\@.
    \item \textbf{Paréntesis con espacio:} Se agregaron espacios apropiados antes de paréntesis cuando era necesario\@.
    \item \textbf{Dos puntos en funciones:} Se usó \texttt{\textbackslash{}colon} para funciones matemáticas en lugar de dos puntos simples\@.
\end{itemize}

\subsection{Características Finales}

\begin{concepto}{Plantilla Lista para Producción}
Esta plantilla está completamente optimizada y libre de warnings\@. Incluye:
\begin{itemize}[label=\textcolor{primary}{$\star$}]
    \item 10 tipos de cajas personalizadas para diferentes propósitos
    \item Sistema completo de comandos matemáticos
    \item Soporte para código fuente con resaltado de sintaxis
    \item Gráficos profesionales con TikZ/PGFplots
    \item Glosario automatizado
    \item Formato de página oscuro profesional
    \item Tipografía optimizada para documentos académicos
    \item Paleta de colores institucional consistente
\end{itemize}
\end{concepto}

\vfill
\begin{center}
\textcolor{primary}{\rule{12cm}{2pt}}\\[10pt]
\textcolor{highlight}{\LARGE\textbf{Fin de la Plantilla}}\\[6pt]
\textcolor{accent}{\Large Plantilla Académica Profesional Completa}\\[4pt]
\textcolor{white}{Versión Unificada y Optimizada~|~\today}\\[2pt]
\textcolor{accent}{Elaborado con \LaTeX}\\[2pt]
\textcolor{light}{\small Sin Warnings~|~Lista para Producción}
\end{center}

\end{document}
